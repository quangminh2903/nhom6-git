{"ast":null,"code":"var _jsxFileName = \"C:\\\\XTP\\\\shop-xtp-main\\\\shop-xtp-main\\\\frontend\\\\src\\\\components\\\\Navbar\\\\pages\\\\account\\\\Order.js\",\n    _s = $RefreshSig$();\n\nimport styles from \"./Account.module.scss\";\nimport { Table, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport Service from \"../../../api/shopService\";\nimport { convertDate, FORMAT_PRICE, STATUS } from \"../../../../global/const\";\nimport ModalConfirm from './../ModalConfirm/ModalConfirm';\nimport ModalNoti from './../ModalNoti/ModalNoti';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Order(props) {\n  _s();\n\n  const index = JSON.parse(window.localStorage.getItem(\"index\"));\n  const [idOrder, setIdOrder] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [messageNoti, setMessageNoti] = useState(\"\");\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [index]);\n\n  const handleSubmit = index => {\n    window.localStorage.setItem(\"index\", JSON.stringify(index));\n  };\n\n  const handleDelete = id => {\n    setIdOrder(id);\n    setMessage(\"Bạn có chắc chắn muốn hủy đơn này?\");\n  };\n\n  const Answer = choice => {\n    if (choice) {\n      Service.updateOrder(idOrder, {\n        status: \"cancel\"\n      }).then(() => {\n        setMessage(\"\");\n        setMessageNoti(\"Bạn đã hủy đơn thành công.\");\n      });\n    } else {\n      setMessage(\"\");\n    }\n  };\n\n  const Done = () => {\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.order,\n      children: [props.arrOrder.length > 0 && /*#__PURE__*/_jsxDEV(Table, {\n        className: styles.orderTable,\n        variant: \"light\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              fontSize: \"14px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"M\\xC3 \\u0110\\u01A0N\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"NG\\xC0Y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"T\\xCCNH TR\\u1EA0NG\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"T\\u1ED4NG\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"C\\xC1C THAO T\\xC1C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: props.arrOrder.map((el, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              fontSize: \"16px\",\n              color: \"#444\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: el.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: convertDate(el.ctime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this), el.status === STATUS[1].value && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"\\u0110ang ch\\u1EDD x\\u1EED l\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 49\n            }, this), el.status === STATUS[0].value && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Giao h\\xE0ng th\\xE0nh c\\xF4ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 49\n            }, this), el.status === STATUS[2].value && /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"\\u0110\\u01A1n h\\xE0ng \\u0111\\xE3 h\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 49\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [FORMAT_PRICE(el.total), \"\\u0111 cho \", el.items.length, \" m\\u1EE5c\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"success\",\n                style: {\n                  fontSize: \"13px\",\n                  fontWeight: \"700\",\n                  marginRight: 30\n                },\n                as: Link,\n                to: \"/account/detailOrder\",\n                onClick: () => handleSubmit(el.id),\n                children: \"XEM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 21\n              }, this), props.button && /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                style: {\n                  fontSize: \"13px\",\n                  fontWeight: \"700\"\n                },\n                onClick: () => handleDelete(el.id),\n                children: \"H\\u1EE6Y\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 36\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), props.arrOrder.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.orderButton,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: styles.buttonStore,\n          to: \"/store\",\n          variant: \"danger\",\n          children: \"T\\u1EDAI C\\u1EE6A H\\xC0NG \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ch\\u01B0a c\\xF3 \\u0111\\u01A1n h\\xE0ng \\u0111\\u01B0\\u1EE3c t\\u1EA1o ra\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ModalConfirm, {\n        message: message,\n        answer: Answer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalNoti, {\n        message: messageNoti,\n        done: () => Done()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Order, \"rVMrokM5fsZmVJrlaV1cANuuarY=\");\n\n_c = Order;\nexport default Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"sources":["C:/XTP/shop-xtp-main/shop-xtp-main/frontend/src/components/Navbar/pages/account/Order.js"],"names":["styles","Table","Button","Link","useState","useEffect","Service","convertDate","FORMAT_PRICE","STATUS","ModalConfirm","ModalNoti","Order","props","index","JSON","parse","window","localStorage","getItem","idOrder","setIdOrder","message","setMessage","messageNoti","setMessageNoti","scrollTo","handleSubmit","setItem","stringify","handleDelete","id","Answer","choice","updateOrder","status","then","Done","location","reload","order","arrOrder","length","orderTable","fontSize","map","el","color","code","ctime","value","total","items","fontWeight","marginRight","button","orderButton","buttonStore"],"mappings":"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","sourcesContent":["import styles from \"./Account.module.scss\";\nimport { Table, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport Service from \"../../../api/shopService\";\nimport { convertDate, FORMAT_PRICE ,STATUS} from \"../../../../global/const\";\nimport ModalConfirm from './../ModalConfirm/ModalConfirm';\nimport ModalNoti from './../ModalNoti/ModalNoti';\nfunction Order(props) {\n  const index = JSON.parse(window.localStorage.getItem(\"index\"));\n  const [idOrder,setIdOrder]=useState(\"\")\n  const [message, setMessage] = useState(\"\");\n  const [messageNoti, setMessageNoti] = useState(\"\");\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [index]);\n  const handleSubmit = (index) => {\n    window.localStorage.setItem(\"index\", JSON.stringify(index));\n  };\n  const handleDelete = (id) => {\n    setIdOrder(id)\n    setMessage(\"Bạn có chắc chắn muốn hủy đơn này?\")\n  };\n  const Answer=(choice)=>{\n    if(choice){\n      Service.updateOrder(idOrder,{\n        status:\"cancel\"\n      }).then(()=>{\n        setMessage(\"\")\n        setMessageNoti(\"Bạn đã hủy đơn thành công.\")\n      })\n    }else{\n      setMessage(\"\")\n    }\n  }\n  const Done=()=>{\n    window.location.reload()\n  }\n  return (\n    <>\n      <div className={styles.order}>\n        {props.arrOrder.length > 0 && (\n          <Table className={styles.orderTable} variant=\"light\">\n            <thead>\n              <tr style={{ fontSize: \"14px\" }}>\n                <th>MÃ ĐƠN</th>\n                <th>NGÀY</th>\n                <th>TÌNH TRẠNG</th>\n                <th>TỔNG</th>\n                <th>CÁC THAO TÁC</th>\n              </tr>\n            </thead>\n            <tbody>\n              {props.arrOrder.map((el, index) => (\n                <tr key={index} style={{ fontSize: \"16px\", color: \"#444\" }}>\n                  <td>{el.code}</td>\n                  <td>{convertDate(el.ctime)}</td>\n                  {el.status===STATUS[1].value&&<td>Đang chờ xử lý</td>}\n                  {el.status===STATUS[0].value&&<td>Giao hàng thành công</td>}\n                  {el.status===STATUS[2].value&&<td>Đơn hàng đã hủy</td>}\n                  <td>\n                    {FORMAT_PRICE(el.total)}đ cho {el.items.length} mục\n                  </td>\n                  <td>\n                    <Button\n                      variant=\"success\"\n                      style={{\n                        fontSize: \"13px\",\n                        fontWeight: \"700\",\n                        marginRight: 30,\n                      }}\n                      as={Link}\n                      to=\"/account/detailOrder\"\n                      onClick={() => handleSubmit(el.id)}\n                    >\n                      XEM\n                    </Button>\n                   {props.button&& <Button\n                      variant=\"danger\"\n                      style={{ fontSize: \"13px\", fontWeight: \"700\" }}\n                      onClick={() => handleDelete(el.id)}\n                    >\n                      HỦY\n                    </Button>}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        )}\n        {props.arrOrder.length === 0 && (\n          <div className={styles.orderButton}>\n            <Link className={styles.buttonStore} to=\"/store\" variant=\"danger\">TỚI CỦA HÀNG </Link>\n            <p>Chưa có đơn hàng được tạo ra</p>\n          </div>\n        )}\n        <ModalConfirm message={message} answer={Answer}/>\n        <ModalNoti message={messageNoti} done={()=>Done()}/>\n      </div>\n    </>\n  );\n}\n\nexport default Order;\n"]},"metadata":{},"sourceType":"module"}