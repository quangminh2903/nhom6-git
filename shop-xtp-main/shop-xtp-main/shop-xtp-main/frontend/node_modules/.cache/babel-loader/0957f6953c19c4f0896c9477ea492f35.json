{"ast":null,"code":"var _jsxFileName = \"C:\\\\XTP\\\\shop-xtp-main\\\\shop-xtp-main\\\\frontend\\\\src\\\\components\\\\Navbar\\\\pages\\\\admin\\\\products\\\\products.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Fuse from \"fuse.js\";\nimport Select from \"react-select\";\nimport styles from \"./products.module.scss\";\nimport { Label } from \"reactstrap\";\nimport Slider from \"@mui/material/Slider\";\nimport { useState, useEffect } from \"react\";\nimport { DataTable } from \"../../table/Table\";\nimport { checkInterger, FORMAT_PRICE, strTrim, minDistance, headerProduct, options, updateProduct, dataProduct, removeVietnameseTones } from \"../../../../../global/const\";\nimport ModalConfirm from \"./../../ModalConfirm/ModalConfirm\";\nimport ModalNoti from \"./../../ModalNoti/ModalNoti\";\nimport ModalUpdate from \"./../../ModalUpdate/ModalUpdate\";\nimport Service from \"../../../../api/shopService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Products() {\n  _s();\n\n  const [body, setBody] = useState([]);\n  const [list, setList] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [messageAdd, setMessageAdd] = useState(\"\");\n  const [messageNoti, setMessageNoti] = useState(\"\");\n  const [messageConfirm, setMessageConfirm] = useState(\"\");\n  const [idProduct, setIdProduct] = useState(0);\n  const [file, setFile] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(options[0]);\n  const [idDelete, setIdDelete] = useState(0);\n  const [dataUpdate, setDataUpdate] = useState([]);\n  const [pattern, setPattern] = useState(\"\");\n  const [value, setValue] = useState([0, 50]);\n  const [listSearch, setListSearch] = useState([]);\n\n  const handleChange = (event, newValue, activeThumb) => {\n    if (!Array.isArray(newValue)) {\n      return;\n    }\n\n    if (selectedOption.value.length === 0) {\n      const arrList = (listSearch.length === 0 ? list : listSearch).filter(el => {\n        return el.price >= newValue[0] * 20000 && el.price <= newValue[1] * 20000;\n      });\n      setBody(arrList.reverse().map((el, index) => {\n        return dataProduct(el, index);\n      }));\n    } else {\n      const arrList = (listSearch.length === 0 ? list : listSearch).filter(el => {\n        return el.gender === selectedOption.value && el.price >= newValue[0] * 20000 && el.price <= newValue[1] * 20000;\n      });\n      setBody(arrList.reverse().map((el, index) => {\n        return dataProduct(el, index);\n      }));\n    }\n\n    if (newValue[1] - newValue[0] < minDistance) {\n      if (activeThumb === 0) {\n        const clamped = Math.min(newValue[0], 100 - minDistance);\n        setValue([clamped, clamped + minDistance]);\n      } else {\n        const clamped = Math.max(newValue[1], minDistance);\n        setValue([clamped - minDistance, clamped]);\n      }\n    } else {\n      setValue(newValue);\n    }\n  };\n\n  useEffect(() => {\n    Service.getListProduct().then(res => {\n      setList(res.data);\n      setBody(res.data.reverse().map((el, index) => {\n        return dataProduct(el, index);\n      }));\n    });\n  }, [messageNoti]);\n\n  const OnChangeValue = e => {\n    setPattern(e);\n\n    if (strTrim(selectedOption.value) === 0) {\n      const result = list.filter(item => {\n        return removeVietnameseTones(item.name).toUpperCase().includes(removeVietnameseTones(e).toUpperCase()) && item.price >= value[0] * 20000 && item.price <= value[1] * 20000;\n      });\n      setListSearch(result);\n      setBody(result.reverse().map((el, index) => {\n        return dataProduct(el, index);\n      }));\n    } else {\n      const result = list.filter(item => {\n        return removeVietnameseTones(item.name).toUpperCase().includes(removeVietnameseTones(e).toUpperCase()) && item.price >= value[0] * 20000 && item.price <= value[1] * 20000 && item.gender === selectedOption.value;\n      });\n      setListSearch(result);\n      setBody(result.reverse().map((el, index) => {\n        return dataProduct(el, index);\n      }));\n    }\n  };\n\n  useEffect(() => {\n    const arr = (listSearch.length === 0 ? list : listSearch).filter(el => {\n      if (strTrim(selectedOption.value) > 0) {\n        return el.gender === selectedOption.value && el.price >= value[0] * 20000 && el.price <= value[1] * 20000;\n      }\n\n      return el.price >= value[0] * 20000 && el.price <= value[1] * 20000;\n    });\n    setBody(arr.reverse().map((el, index) => {\n      return dataProduct(el, index);\n    }));\n  }, [selectedOption]);\n\n  const Update = id => {\n    setMessage(\"Sửa\");\n    setIdProduct(id);\n    Service.getProduct(id).then(res => {\n      setFile(res.data.image);\n      setDataUpdate(updateProduct(res.data));\n    });\n  };\n\n  const HandleNoti = () => {\n    if (messageNoti === \"Sửa thông tin thành công\") {\n      setMessageNoti(\"\");\n      setMessage(\"\");\n      window.location.reload();\n    } else if (messageNoti === \"Xóa thông tin thành công\") {\n      setMessageNoti(\"\");\n      setMessageConfirm(\"\");\n      window.location.reload();\n    } else if (messageNoti === \"Thêm sản phẩm thành công\") {\n      setMessageNoti(\"\");\n      setMessageAdd(\"\");\n      window.location.reload();\n    } else {\n      setMessageNoti(\"\");\n    }\n  };\n\n  const UpdateData = data => {\n    if (data.length !== 0) {\n      const [name, origin_price, price, amount, material, color, gender, image] = data.map(d => d.value);\n\n      if (name ? name.trim().length > 2 : \"\" && material.trim().length > 2 && color.value.trim().length > 2 && checkInterger(`${origin_price}`) && checkInterger(`${price}`) && checkInterger(`${amount}`)) {\n        Service.updateProduct(idProduct, {\n          name,\n          origin_price: parseInt(origin_price),\n          gender: gender.value,\n          image,\n          price: parseInt(price),\n          material,\n          color,\n          amount: parseInt(amount)\n        }).then(() => {\n          setMessageNoti(\"Sửa thông tin thành công\");\n        });\n      } else {\n        setMessageNoti(\"Vui lòng nhập đúng thông tin\");\n      }\n    } else {\n      setMessageNoti(\"Sửa thông tin thành công\");\n    }\n  };\n\n  const Delete = id => {\n    setMessageConfirm(\"Bạn có chắc muốn xóa sản phẩm?\");\n    setIdDelete(id);\n  };\n\n  const answerConfirm = confirm => {\n    if (confirm) {\n      Service.deleteProduct(idDelete).then(res => {\n        setMessageNoti(\"Xóa thông tin thành công\");\n      });\n    } else {\n      setMessageConfirm(\"\");\n    }\n  };\n\n  const AddProduct = () => {\n    setMessageAdd(\"Thêm\");\n    setDataUpdate(updateProduct([]));\n  };\n\n  const CreateData = data => {\n    if (data.length > 0) {\n      const [name, origin_price, price, amount, material, color, gender, image] = data.map(d => d.value);\n      const check = strTrim(name) > 2 && strTrim(material) > 2 && strTrim(color) > 1 && checkInterger(origin_price) && checkInterger(price) && checkInterger(amount) && strTrim(origin_price) > 3 && strTrim(price) > 3 && strTrim(amount) > 0 && image.length > 0;\n\n      if (check) {\n        const product = {\n          name: name,\n          material: material,\n          image: image,\n          color: color,\n          amount: parseInt(amount),\n          origin_price: parseInt(origin_price),\n          price: parseInt(price),\n          gender: gender.value\n        };\n        Service.createProduct(product).then(() => {\n          setMessageNoti(\"Thêm sản phẩm thành công\");\n        });\n      } else {\n        setMessageNoti(\"Vui lòng nhập đầy đủ thông tin\");\n      }\n    } else {\n      setMessageNoti(\"Vui lòng nhập đầy đủ thông tin\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.products,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"DANH S\\xC1CH S\\u1EA2N PH\\u1EA8M\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.internForm,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"T\\xECm ki\\u1EBFm theo t\\xEAn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"mb-20 mr-30\",\n          value: pattern,\n          onChange: e => OnChangeValue(e.target.value),\n          type: \"text\",\n          placeholder: \"Nh\\u1EADp t\\xEAn s\\u1EA3n ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" mb-10 flex\",\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          className: styles.labelSelect,\n          children: \"T\\xECm theo gi\\u1EDBi t\\xEDnh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          className: styles.select,\n          value: selectedOption,\n          onChange: setSelectedOption,\n          options: options\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.searchPrice,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"L\\u1ECDc theo gi\\xE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            width: 200\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.valuePrice,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: FORMAT_PRICE(value[0] * 20000)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: FORMAT_PRICE(value[1] * 20000)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            getAriaLabel: () => \"Minimum distance shift\",\n            value: value,\n            onChange: handleChange,\n            disableSwap: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: () => AddProduct(),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-plus\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), \"Th\\xEAm\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      headers: headerProduct,\n      body: body,\n      buttonDelete: \"Xóa\",\n      buttonUpdate: \"Sửa\",\n      parentCallBackUpdate: Update,\n      parentCallBack: Delete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalUpdate, {\n      isOpen: message,\n      data: dataUpdate,\n      cancelUpdate: () => setMessage(\"\"),\n      parentCallBack: UpdateData,\n      files: file\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalUpdate, {\n      isOpen: messageAdd,\n      data: dataUpdate,\n      cancelUpdate: () => setMessageAdd(\"\"),\n      parentCallBack: CreateData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalNoti, {\n      message: messageNoti,\n      done: HandleNoti\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalNoti, {\n      message: messageNoti,\n      done: HandleNoti\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalConfirm, {\n      message: messageConfirm,\n      answer: answerConfirm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Products, \"BKNflWSp9DJn8n9PEy376FsS7KQ=\");\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["C:/XTP/shop-xtp-main/shop-xtp-main/frontend/src/components/Navbar/pages/admin/products/products.js"],"names":["React","Box","Fuse","Select","styles","Label","Slider","useState","useEffect","DataTable","checkInterger","FORMAT_PRICE","strTrim","minDistance","headerProduct","options","updateProduct","dataProduct","removeVietnameseTones","ModalConfirm","ModalNoti","ModalUpdate","Service","Products","body","setBody","list","setList","message","setMessage","messageAdd","setMessageAdd","messageNoti","setMessageNoti","messageConfirm","setMessageConfirm","idProduct","setIdProduct","file","setFile","selectedOption","setSelectedOption","idDelete","setIdDelete","dataUpdate","setDataUpdate","pattern","setPattern","value","setValue","listSearch","setListSearch","handleChange","event","newValue","activeThumb","Array","isArray","length","arrList","filter","el","price","reverse","map","index","gender","clamped","Math","min","max","getListProduct","then","res","data","OnChangeValue","e","result","item","name","toUpperCase","includes","arr","Update","id","getProduct","image","HandleNoti","window","location","reload","UpdateData","origin_price","amount","material","color","d","trim","parseInt","Delete","answerConfirm","confirm","deleteProduct","AddProduct","CreateData","check","product","createProduct","products","internForm","target","labelSelect","select","searchPrice","width","valuePrice"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Fuse from \"fuse.js\";\nimport Select from \"react-select\";\nimport styles from \"./products.module.scss\";\nimport { Label } from \"reactstrap\";\nimport Slider from \"@mui/material/Slider\";\nimport { useState, useEffect } from \"react\";\nimport { DataTable } from \"../../table/Table\";\nimport {\n  checkInterger,\n  FORMAT_PRICE,\n  strTrim,\n  minDistance,\n  headerProduct,\n  options,\n  updateProduct,\n  dataProduct,\n  removeVietnameseTones,\n} from \"../../../../../global/const\";\nimport ModalConfirm from \"./../../ModalConfirm/ModalConfirm\";\nimport ModalNoti from \"./../../ModalNoti/ModalNoti\";\nimport ModalUpdate from \"./../../ModalUpdate/ModalUpdate\";\nimport Service from \"../../../../api/shopService\";\nfunction Products() {\n  const [body, setBody] = useState([]);\n  const [list, setList] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [messageAdd, setMessageAdd] = useState(\"\");\n  const [messageNoti, setMessageNoti] = useState(\"\");\n  const [messageConfirm, setMessageConfirm] = useState(\"\");\n  const [idProduct, setIdProduct] = useState(0);\n  const [file, setFile] = useState([]);\n  const [selectedOption, setSelectedOption] = useState(options[0]);\n  const [idDelete, setIdDelete] = useState(0);\n  const [dataUpdate, setDataUpdate] = useState([]);\n  const [pattern, setPattern] = useState(\"\");\n  const [value, setValue] = useState([0, 50]);\n  const [listSearch, setListSearch] = useState([]);\n  const handleChange = (event, newValue, activeThumb) => {\n    if (!Array.isArray(newValue)) {\n      return;\n    }\n    if (selectedOption.value.length === 0) {\n      const arrList = (listSearch.length === 0 ? list : listSearch).filter(\n        (el) => {\n          return (\n            el.price >= newValue[0] * 20000 && el.price <= newValue[1] * 20000\n          );\n        }\n      );\n      setBody(\n        arrList.reverse().map((el, index) => {\n          return dataProduct(el, index);\n        })\n      );\n    } else {\n      const arrList = (listSearch.length === 0 ? list : listSearch).filter(\n        (el) => {\n          return (\n            el.gender === selectedOption.value &&\n            el.price >= newValue[0] * 20000 &&\n            el.price <= newValue[1] * 20000\n          );\n        }\n      );\n      setBody(\n        arrList.reverse().map((el, index) => {\n          return dataProduct(el, index);\n        })\n      );\n    }\n\n    if (newValue[1] - newValue[0] < minDistance) {\n      if (activeThumb === 0) {\n        const clamped = Math.min(newValue[0], 100 - minDistance);\n        setValue([clamped, clamped + minDistance]);\n      } else {\n        const clamped = Math.max(newValue[1], minDistance);\n        setValue([clamped - minDistance, clamped]);\n      }\n    } else {\n      setValue(newValue);\n    }\n  };\n\n  useEffect(() => {\n    Service.getListProduct().then((res) => {\n      setList(res.data);\n      setBody(\n        res.data.reverse().map((el, index) => {\n          return dataProduct(el, index);\n        })\n      );\n    });\n  }, [messageNoti]);\n\n  const OnChangeValue = (e) => {\n    setPattern(e);\n    if (strTrim(selectedOption.value) === 0) {\n      const result = list.filter((item) => {\n        return (\n          removeVietnameseTones(item.name)\n            .toUpperCase()\n            .includes(removeVietnameseTones(e).toUpperCase()) &&\n          item.price >= value[0] * 20000 &&\n          item.price <= value[1] * 20000\n        );\n      });\n      setListSearch(result);\n      setBody(\n        result.reverse().map((el, index) => {\n          return dataProduct(el, index);\n        })\n      );\n    } else {\n      const result = list.filter((item) => {\n        return (\n          removeVietnameseTones(item.name)\n            .toUpperCase()\n            .includes(removeVietnameseTones(e).toUpperCase()) &&\n          item.price >= value[0] * 20000 &&\n          item.price <= value[1] * 20000 &&\n          item.gender === selectedOption.value\n        );\n      });\n      setListSearch(result);\n      setBody(\n        result.reverse().map((el, index) => {\n          return dataProduct(el, index);\n        })\n      );\n    }\n  };\n\n  useEffect(() => {\n    const arr = (listSearch.length === 0 ? list : listSearch).filter((el) => {\n      if (strTrim(selectedOption.value) > 0) {\n        return (\n          el.gender === selectedOption.value &&\n          el.price >= value[0] * 20000 &&\n          el.price <= value[1] * 20000\n        );\n      }\n      return el.price >= value[0] * 20000 && el.price <= value[1] * 20000;\n    });\n    setBody(\n      arr.reverse().map((el, index) => {\n        return dataProduct(el, index);\n      })\n    );\n  }, [selectedOption]);\n\n  const Update = (id) => {\n    setMessage(\"Sửa\");\n    setIdProduct(id);\n    Service.getProduct(id).then((res) => {\n      setFile(res.data.image);\n      setDataUpdate(updateProduct(res.data));\n    });\n  };\n\n  const HandleNoti = () => {\n    if (messageNoti === \"Sửa thông tin thành công\") {\n      setMessageNoti(\"\");\n      setMessage(\"\");\n      window.location.reload()\n    } else if (messageNoti === \"Xóa thông tin thành công\") {\n      setMessageNoti(\"\");\n      setMessageConfirm(\"\");\n      window.location.reload()\n    } else if (messageNoti === \"Thêm sản phẩm thành công\") {\n      setMessageNoti(\"\");\n      setMessageAdd(\"\");\n      window.location.reload()\n    } else {\n      setMessageNoti(\"\");\n    }\n  };\n  const UpdateData = (data) => {\n    if (data.length !== 0) {\n      const [\n        name,\n        origin_price,\n        price,\n        amount,\n        material,\n        color,\n        gender,\n        image,\n      ] = data.map((d) => d.value);\n      if (\n        name\n          ? name.trim().length > 2\n          : \"\" &&\n            material.trim().length > 2 &&\n            color.value.trim().length > 2 &&\n            checkInterger(`${origin_price}`) &&\n            checkInterger(`${price}`) &&\n            checkInterger(`${amount}`)\n      ) {\n        Service.updateProduct(idProduct, {\n          name,\n          origin_price: parseInt(origin_price),\n          gender: gender.value,\n          image,\n          price: parseInt(price),\n          material,\n          color,\n          amount: parseInt(amount),\n        }).then(() => {\n          setMessageNoti(\"Sửa thông tin thành công\");\n         \n        });\n      } else {\n        setMessageNoti(\"Vui lòng nhập đúng thông tin\");\n      }\n    } else {\n      setMessageNoti(\"Sửa thông tin thành công\");\n    }\n  };\n  const Delete = (id) => {\n    setMessageConfirm(\"Bạn có chắc muốn xóa sản phẩm?\");\n    setIdDelete(id);\n  };\n  const answerConfirm = (confirm) => {\n    if (confirm) {\n      Service.deleteProduct(idDelete).then((res) => {\n        setMessageNoti(\"Xóa thông tin thành công\");\n      });\n    } else {\n      setMessageConfirm(\"\");\n    }\n  };\n\n  const AddProduct = () => {\n    setMessageAdd(\"Thêm\");\n    setDataUpdate(updateProduct([]));\n  };\n  const CreateData = (data) => {\n    if (data.length > 0) {\n      const [\n        name,\n        origin_price,\n        price,\n        amount,\n        material,\n        color,\n        gender,\n        image,\n      ] = data.map((d) => d.value);\n\n      const check =\n        strTrim(name) > 2 &&\n        strTrim(material) > 2 &&\n        strTrim(color) > 1 &&\n        checkInterger(origin_price) &&\n        checkInterger(price) &&\n        checkInterger(amount) &&\n        strTrim(origin_price) > 3 &&\n        strTrim(price) > 3 &&\n        strTrim(amount) > 0 &&\n        image.length > 0;\n      if (check) {\n        const product = {\n          name: name,\n          material: material,\n          image: image,\n          color: color,\n          amount: parseInt(amount),\n          origin_price: parseInt(origin_price),\n          price: parseInt(price),\n          gender: gender.value,\n        };\n        Service.createProduct(product).then(() => {\n          setMessageNoti(\"Thêm sản phẩm thành công\");\n        });\n      } else {\n        setMessageNoti(\"Vui lòng nhập đầy đủ thông tin\");\n      }\n    } else {\n      setMessageNoti(\"Vui lòng nhập đầy đủ thông tin\");\n    }\n  };\n\n  return (\n    <div className={styles.products}>\n      <h4>DANH SÁCH SẢN PHẨM</h4>\n      <div className={styles.internForm}>\n        <div>\n          <Label>Tìm kiếm theo tên</Label>\n          <input\n            className=\"mb-20 mr-30\"\n            value={pattern}\n            onChange={(e) => OnChangeValue(e.target.value)}\n            type=\"text\"\n            placeholder=\"Nhập tên sản phẩm\"\n          />\n        </div>\n        <div className=\" mb-10 flex\">\n          <Label className={styles.labelSelect}>Tìm theo giới tính</Label>\n          <Select\n            className={styles.select}\n            value={selectedOption}\n            onChange={setSelectedOption}\n            options={options}\n          />\n        </div>\n        <div className={styles.searchPrice}>\n          <p>Lọc theo giá</p>\n          <Box sx={{ width: 200 }}>\n            <div className={styles.valuePrice}>\n              <strong>{FORMAT_PRICE(value[0] * 20000)}</strong>\n              <strong>{FORMAT_PRICE(value[1] * 20000)}</strong>\n            </div>\n            <Slider\n              getAriaLabel={() => \"Minimum distance shift\"}\n              value={value}\n              onChange={handleChange}\n              disableSwap\n            />\n          </Box>\n        </div>\n        <button className=\"btn\" onClick={() => AddProduct()}>\n          <i className=\"fa fa-plus\" aria-hidden=\"true\"></i>\n          Thêm\n        </button>\n      </div>\n      <DataTable\n        headers={headerProduct}\n        body={body}\n        buttonDelete={\"Xóa\"}\n        buttonUpdate={\"Sửa\"}\n        parentCallBackUpdate={Update}\n        parentCallBack={Delete}\n      />\n      <ModalUpdate\n        isOpen={message}\n        data={dataUpdate}\n        cancelUpdate={() => setMessage(\"\")}\n        parentCallBack={UpdateData}\n        files={file}\n      />\n      <ModalUpdate\n        isOpen={messageAdd}\n        data={dataUpdate}\n        cancelUpdate={() => setMessageAdd(\"\")}\n        parentCallBack={CreateData}\n      />\n      <ModalNoti message={messageNoti} done={HandleNoti} />\n      <ModalNoti message={messageNoti} done={HandleNoti} />\n      <ModalConfirm message={messageConfirm} answer={answerConfirm} />\n    </div>\n  );\n}\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}