{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\shop-xtp-main\\\\shop-xtp-main\\\\frontend\\\\src\\\\components\\\\Navbar\\\\pages\\\\account\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport styles from \"./Account.module.scss\";\nimport { useEffect, useState } from \"react\";\nimport { IoSearchSharp } from \"react-icons/io5\";\nimport { CgFormatSlash } from \"react-icons/cg\";\nimport { BsCartPlus } from \"react-icons/bs\";\nimport { Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Service from \"../../../api/shopService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cart() {\n  _s();\n\n  const [cart, setCart] = useState([]);\n  const [total, setTotal] = useState(\"0\");\n  const id = JSON.parse(window.localStorage.getItem(\"id\"));\n  useEffect(() => {\n    if (id !== 0) {\n      Service.getListOrderCustomer(id).then(res => {\n        const a = res.data.map(el => {\n          return {\n            index: el.id,\n            amount: el.items[0].amount,\n            image: el.items[0].product.image[0],\n            id: el.items[0].product.id,\n            name: el.items[0].product.name,\n            price: el.items[0].product.price\n          };\n        });\n        setCart(a);\n      });\n    } else {\n      setCart([]);\n    }\n  }, [id]);\n  useEffect(() => {\n    if (cart.length > 0) {\n      const result = cart.reduce((result, prod) => {\n        return result + prod.amount * prod.price;\n      }, 0);\n      setTotal(result.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"));\n    }\n\n    if (cart.length === 0) {\n      setTotal(\"0\");\n    }\n  }, [cart]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.cart,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.cartPrice,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"GI\\u1ECE H\\xC0NG\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(CgFormatSlash, {\n        className: styles.cgFormatSlash\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [total, \"\\u0111\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BsCartPlus, {\n        className: styles.bsCartPlus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.hoverCart,\n        children: [cart.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ch\\u01B0a c\\xF3 s\\u1EA3n ph\\u1EA9m trong gi\\u1ECF h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 33\n        }, this), cart.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.Scroll,\n            children: cart.map((el, index) => {\n              return /*#__PURE__*/_jsxDEV(Nav.Link, {\n                className: styles.hoverCartProduct,\n                href: `/Cart/${el.id}`,\n                onClick: () => window.localStorage.setItem(\"idProduct\", JSON.stringify(el.id)),\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: el.image,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: styles.hoverCartProductDiv,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: el.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [el.amount, \" x \", el.price, \"\\u0111\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n            className: styles.hoverCartButton,\n            as: Link,\n            to: \"/viewcart\",\n            children: \"XEM GI\\u1ECE H\\xC0NG\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Cart, \"3j4l6t2wsNsxKAohpCD97Nh3Crs=\");\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Users/Admin/Downloads/shop-xtp-main/shop-xtp-main/frontend/src/components/Navbar/pages/account/Cart.js"],"names":["styles","useEffect","useState","IoSearchSharp","CgFormatSlash","BsCartPlus","Nav","Link","Service","Cart","cart","setCart","total","setTotal","id","JSON","parse","window","localStorage","getItem","getListOrderCustomer","then","res","a","data","map","el","index","amount","items","image","product","name","price","length","result","reduce","prod","toString","replace","cartPrice","cgFormatSlash","bsCartPlus","hoverCart","Scroll","hoverCartProduct","setItem","stringify","hoverCartProductDiv","hoverCartButton"],"mappings":"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","sourcesContent":["import styles from \"./Account.module.scss\";\nimport { useEffect, useState } from \"react\";\nimport { IoSearchSharp } from \"react-icons/io5\";\nimport { CgFormatSlash } from \"react-icons/cg\";\nimport { BsCartPlus } from \"react-icons/bs\";\nimport { Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Service from \"../../../api/shopService\";\nfunction Cart() {\n  const [cart, setCart] = useState([]);\n  const [total, setTotal] = useState(\"0\");\n  const id = JSON.parse(window.localStorage.getItem(\"id\"));\n  useEffect(() => {\n    if (id !== 0) {\n      Service.getListOrderCustomer(id).then((res)=>{\n       const a= res.data.map((el)=> {\n          return {\n            index:el.id,\n            amount:el.items[0].amount,\n            image:el.items[0].product.image[0],\n            id:el.items[0].product.id,\n            name:el.items[0].product.name,\n            price:el.items[0].product.price,\n          }\n        });\n        setCart(a)\n      })\n    } else {\n      setCart([]);\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (cart.length > 0) {\n      const result = cart.reduce((result, prod) => {\n        return (\n          result +\n        prod.amount * prod.price\n        );\n      }, 0);\n      setTotal(result.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"));\n    }\n    if (cart.length === 0) {\n      setTotal(\"0\");\n    }\n  }, [cart]);\n  return (\n    <div className={styles.cart}>\n      <div className={styles.cartPrice}>\n        <p>GIỎ HÀNG</p> <CgFormatSlash className={styles.cgFormatSlash} />\n        <span>{total}đ</span>\n        <BsCartPlus className={styles.bsCartPlus} />\n        <div className={styles.hoverCart}>\n          {cart.length === 0 && <p>Chưa có sản phẩm trong giỏ hàng</p>}\n          {cart.length > 0 && (\n            <div>\n              <div className={styles.Scroll}>\n                {cart.map((el, index) => {\n                  return (\n                    <Nav.Link\n                      key={index}\n                      className={styles.hoverCartProduct}\n                    href={`/Cart/${el.id}`}\n                      onClick={()=>window.localStorage.setItem(\"idProduct\", JSON.stringify(el.id))}\n                    >\n                      <img src={el.image} alt=\"\" />\n                      <div className={styles.hoverCartProductDiv}>\n                        <p>{el.name}</p>\n                        <span>\n                          {el.amount} x {el.price}đ\n                        </span>\n                      </div>\n                    </Nav.Link>\n                  );\n                })}\n              </div>\n                 <Nav.Link\n                className={styles.hoverCartButton}\n                as={Link}\n                to=\"/viewcart\"\n              >\n                XEM GIỎ HÀNG\n              </Nav.Link>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}