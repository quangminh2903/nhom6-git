{"ast":null,"code":"var _jsxFileName = \"C:\\\\XTP\\\\shop-xtp-main\\\\shop-xtp-main\\\\frontend\\\\src\\\\components\\\\Navbar\\\\pages\\\\cart\\\\Payment.js\",\n    _s = $RefreshSig$();\n\nimport styles from \"./cart.module.scss\";\nimport { useEffect, useState } from \"react\";\nimport Radio from \"@mui/material/Radio\";\nimport RadioGroup from \"@mui/material/RadioGroup\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Service from './../../../api/shopService';\nimport { FORMAT_PRICE, strTrim, checkInterger } from './../../../../global/const';\nimport ModalNoti from './../ModalNoti/ModalNoti';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Payment() {\n  _s();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  const [cart, setCart] = useState({});\n  const [address, setAddress] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [showAddress, setShowAddress] = useState(false);\n  const [phone, setPhone] = useState(\"\");\n  const [showPhone, setShowPhone] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [showName, setShowName] = useState(false);\n  const [value, setValue] = useState(\"Trả tiền khi nhận hàng\");\n  const id = JSON.parse(window.localStorage.getItem(\"idPayment\"));\n\n  const handleChange = event => {\n    setValue(event.target.value);\n  };\n\n  useEffect(() => {\n    Service.getOrderView(id).then(res => {\n      setCart(res.data);\n    });\n  }, [id]);\n\n  const handleOrder = () => {\n    if (strTrim(name) !== 0 && strTrim(phone) !== 0 && strTrim(address) !== 0 && !showAddress && !showPhone && !showName) {\n      if (value === \"Trả tiền khi nhận hàng\") {\n        Service.updateOrder(id, {\n          status: \"await\",\n          info: {\n            name: name,\n            phone: phone,\n            address: address\n          }\n        }).then(() => {\n          setMessage(\"Mua sản phẩm thành công.\");\n        });\n      } else {\n        Service.updateOrder(id, {\n          status: \"done\",\n          info: {\n            name: name,\n            phone: phone,\n            address: address\n          }\n        }).then(() => {\n          setMessage(\"Mua sản phẩm thành công.\");\n        });\n      }\n    } else {\n      setMessage(\"Vui lòng nhập đầy đủ thông tin.\");\n    }\n  };\n\n  const OnChangeName = value => {\n    setName(value);\n    setShowName(strTrim(value) < 2);\n  };\n\n  const OnChangePhone = value => {\n    setPhone(value);\n    setShowPhone(!checkInterger(value) || strTrim(value) !== 10);\n  };\n\n  const OnChangeAddress = value => {\n    setAddress(value);\n    setShowAddress(strTrim(value) < 2);\n  };\n\n  const Done = () => {\n    if (message === \"Mua sản phẩm thành công.\") {\n      window.location.replace(\"account/order\");\n    } else {\n      setMessage(\"\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.payment,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.informationCart,\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u0110\\u01A0N H\\xC0NG C\\u1EE6A B\\u1EA0N\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.title,\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"S\\u1EA2N PH\\u1EA8M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"T\\u1ED4NG\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), cart.items && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [cart.items[0].product.name, \" x  \", cart.items[0].amount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: FORMAT_PRICE(cart.total) + \"đ\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"T\\u1ED5ng ph\\u1EE5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"  \", cart.total ? FORMAT_PRICE(cart.total) + \"đ\" : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Giao h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Giao h\\xE0ng mi\\u1EC5n ph\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"T\\u1ED5ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"  \", cart.total ? FORMAT_PRICE(cart.total) + \"đ\" : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"none\"\n        },\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          component: \"fieldset\",\n          children: /*#__PURE__*/_jsxDEV(RadioGroup, {\n            \"aria-label\": \"gender\",\n            defaultValue: \"female\",\n            name: \"radio-buttons-group\",\n            value: value,\n            onChange: handleChange,\n            children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n              value: \"Tr\\u1EA3 ti\\u1EC1n khi nh\\u1EADn h\\xE0ng\",\n              control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 26\n              }, this),\n              label: \"Tr\\u1EA3 ti\\u1EC1n khi nh\\u1EADn h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              value: \"Thanh to\\xE1n qua ng\\xE2n h\\xE0ng\",\n              control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 26\n              }, this),\n              label: \"Thanh to\\xE1n qua ng\\xE2n h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.Button,\n        onClick: handleOrder,\n        children: \"\\u0110\\u1EB6T H\\xC0NG\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.information,\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"TH\\xD4NG TIN T\\xC0I KHO\\u1EA2N\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Nh\\u1EADp t\\xEAn ng\\u01B0\\u1EDDi nh\\u1EADn h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: name,\n        onChange: e => OnChangeName(e.target.value),\n        placeholder: \"Nh\\u1EADp t\\xEAn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\" \", showName ? \"Vui lòng nhập tên hợp lệ\" : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: phone,\n        onChange: e => OnChangePhone(e.target.value),\n        placeholder: \"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: showPhone ? \"Vui lòng nhập số điện thoại hợp lệ\" : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 nh\\u1EADn h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: address,\n        onChange: e => OnChangeAddress(e.target.value),\n        placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: showAddress ? \"Vui lòng nhập địa chỉ hợp lệ\" : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalNoti, {\n      message: message,\n      done: () => Done()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Payment, \"+8XZWlDLspsddvCiLNdUG9Jnc1Y=\");\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["C:/XTP/shop-xtp-main/shop-xtp-main/frontend/src/components/Navbar/pages/cart/Payment.js"],"names":["styles","useEffect","useState","Radio","RadioGroup","FormControlLabel","FormControl","Service","FORMAT_PRICE","strTrim","checkInterger","ModalNoti","Payment","window","scrollTo","cart","setCart","address","setAddress","message","setMessage","showAddress","setShowAddress","phone","setPhone","showPhone","setShowPhone","name","setName","showName","setShowName","value","setValue","id","JSON","parse","localStorage","getItem","handleChange","event","target","getOrderView","then","res","data","handleOrder","updateOrder","status","info","OnChangeName","OnChangePhone","OnChangeAddress","Done","location","replace","payment","informationCart","title","items","product","amount","total","border","Button","information","e"],"mappings":"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","sourcesContent":["import styles from \"./cart.module.scss\";\nimport { useEffect, useState } from \"react\";\nimport Radio from \"@mui/material/Radio\";\nimport RadioGroup from \"@mui/material/RadioGroup\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Service from './../../../api/shopService';\nimport { FORMAT_PRICE,strTrim,checkInterger } from './../../../../global/const';\nimport ModalNoti from './../ModalNoti/ModalNoti';\nfunction Payment() {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  const [cart, setCart] = useState({});\n  const [address, setAddress] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [showAddress, setShowAddress] = useState(false);\n  const [phone, setPhone] = useState(\"\");\n  const [showPhone, setShowPhone] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [showName, setShowName] = useState(false);\n  const [value, setValue] = useState(\"Trả tiền khi nhận hàng\");\n  const id = JSON.parse(window.localStorage.getItem(\"idPayment\"))\n  const handleChange = (event) => {\n    setValue(event.target.value);\n  };\n  useEffect(() => {\n   Service.getOrderView(id).then((res)=>{\n     setCart(res.data)\n   })\n  }, [id]);\n \n  const handleOrder = () => {\n\n    if(strTrim(name)!==0&&strTrim(phone)!==0&&strTrim(address)!==0&&!showAddress&&!showPhone&&!showName){\n      if(value===\"Trả tiền khi nhận hàng\"){\n        Service.updateOrder(id,{\n          status:\"await\",\n          info:{\n            name:name,\n            phone:phone,\n            address:address\n          }\n        }).then(()=>{\n        setMessage(\"Mua sản phẩm thành công.\")\n        })\n       }else{\n        Service.updateOrder(id,{\n          status:\"done\",\n          info:{\n            name:name,\n            phone:phone,\n            address:address\n          }\n        }).then(()=>{\n          setMessage(\"Mua sản phẩm thành công.\")\n        })\n       }\n    }else{\n      setMessage(\"Vui lòng nhập đầy đủ thông tin.\")\n    }\n  \n  };\nconst OnChangeName=(value)=>{\nsetName(value)\nsetShowName(strTrim(value)<2)\n}\nconst OnChangePhone=(value)=>{\nsetPhone(value)\nsetShowPhone(!checkInterger(value)||strTrim(value)!==10)\n}\nconst OnChangeAddress=(value)=>{\nsetAddress(value)\nsetShowAddress(strTrim(value)<2)\n}\nconst Done=()=>{\nif(message===\"Mua sản phẩm thành công.\"){\n  window.location.replace(\"account/order\")\n}else{\n  setMessage(\"\")\n}\n}\n  return (\n    <div className={styles.payment}>\n      <div className={styles.informationCart}>\n        <strong>ĐƠN HÀNG CỦA BẠN</strong>\n        <div className={styles.title}>\n          <strong>SẢN PHẨM</strong>\n          <strong>TỔNG</strong>\n        </div>\n             {cart.items&&  <div >\n                <p>\n                  {cart.items[0].product.name} x  {cart.items[0].amount}\n                </p>\n                <p>\n                {FORMAT_PRICE(cart.total)+\"đ\"}\n                </p>\n              </div>}\n        <div>\n          <strong>Tổng phụ</strong>\n          <strong>  {cart.total?FORMAT_PRICE(cart.total)+\"đ\":\"\"}</strong>\n        </div>\n        <div>\n          <strong>Giao hàng</strong>\n          <span>Giao hàng miễn phí</span>\n        </div>\n        <div>\n          <strong>Tổng</strong>\n          <strong>  {cart.total?FORMAT_PRICE(cart.total)+\"đ\":\"\"}</strong>\n        </div>\n        <div style={{ border: \"none\" }}>\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"gender\"\n              defaultValue=\"female\"\n              name=\"radio-buttons-group\"\n              value={value}\n              onChange={handleChange}\n            >\n              <FormControlLabel\n                value=\"Trả tiền khi nhận hàng\"\n                control={<Radio />}\n                label=\"Trả tiền khi nhận hàng\"\n              />\n              <FormControlLabel\n                value=\"Thanh toán qua ngân hàng\"\n                control={<Radio />}\n                label=\"Thanh toán qua ngân hàng\"\n              />\n            </RadioGroup>\n          </FormControl>\n        </div>\n        <button\n          className={styles.Button}\n          onClick={handleOrder}\n        >\n          ĐẶT HÀNG\n        </button>\n      </div>\n      <div className={styles.information}>\n        <strong>THÔNG TIN TÀI KHOẢN</strong>\n        <strong>Nhập tên người nhận hàng</strong>\n       <input value={name} onChange={(e)=>OnChangeName(e.target.value)} placeholder=\"Nhập tên\"></input>\n      <span> {showName?\"Vui lòng nhập tên hợp lệ\":\"\"}</span>\n        <strong>Nhập số điện thoại</strong>\n       <input value={phone} onChange={(e)=>OnChangePhone(e.target.value)} placeholder=\"Nhập số điện thoại\"></input>\n    <span>{showPhone?\"Vui lòng nhập số điện thoại hợp lệ\":\"\"}</span>\n        <strong>Nhập địa chỉ nhận hàng</strong>\n       <input value={address} onChange={(e)=>OnChangeAddress(e.target.value)} placeholder=\"Nhập địa chỉ\"></input>\n       <span>{showAddress?\"Vui lòng nhập địa chỉ hợp lệ\":\"\"}</span>\n      </div>\n      <ModalNoti message={message} done={()=>Done()}/>\n    </div>\n  );\n}\n\nexport default Payment;\n"]},"metadata":{},"sourceType":"module"}