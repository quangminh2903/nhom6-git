{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\shop-xtp-main\\\\shop-xtp-main\\\\frontend\\\\src\\\\components\\\\Navbar\\\\pages\\\\account\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Modal } from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport styles from \"./Account.module.scss\";\nimport { strTrim, checkInterger, CheckDate, reverseBirthday } from \"../../../../global/const\"; // import {re} from './checkEmail'\n\nimport { Row, Col, Label } from \"reactstrap\";\nimport Service from \"../../../api/shopService\";\nimport ModalNoti from \"../ModalNoti/ModalNoti\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const [showName, setShowName] = useState(false);\n  const [showUserName, setShowUserName] = useState(false);\n  const [showCccd, setShowCccd] = useState(false);\n  const [showBirthday, setShowBirthday] = useState(false);\n  const [showPhone, setShowPhone] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showPasswordRepeat, setShowPasswordRepeat] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [cccd, setCccd] = useState(\"\");\n  const [birthday, setBirthday] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordRepeat, setPasswordRepeat] = useState(\"\");\n  const [success, setSuccess] = useState(null);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const OnchangeName = value => {\n    setName(value);\n    setShowName(strTrim(value) < 3);\n  };\n\n  const OnchangeUserName = value => {\n    setUserName(value);\n    setShowUserName(strTrim(value) < 3);\n  };\n\n  const OnchangeCccd = value => {\n    setCccd(value);\n    setShowCccd(strTrim(value) !== 9 && strTrim(value) !== 12 || !checkInterger(value));\n  };\n\n  const OnchangeBirthday = value => {\n    setBirthday(value);\n    setShowBirthday(!CheckDate(value.split(\"-\")));\n  };\n\n  const OnchangePhone = value => {\n    setPhone(value);\n    setShowPhone(strTrim(value) !== 10 || !checkInterger(value));\n  };\n\n  const OnchangePassword = value => {\n    setPassword(value);\n    setShowPassword(strTrim(value) < 6);\n  };\n\n  const OnchangePasswordRepeat = value => {\n    setPasswordRepeat(value);\n    setShowPasswordRepeat(value !== password);\n  };\n\n  const updateUsers = () => {\n    const check = strTrim(name) > 0 && strTrim(cccd) > 0 && strTrim(phone) > 0 && strTrim(birthday) > 0 && strTrim(userName) > 0 && strTrim(password) > 0 && strTrim(passwordRepeat) > 0 && !showBirthday && !showCccd && !showName && !showPassword && !showPasswordRepeat && !showPhone && !showUserName;\n\n    if (check) {\n      Service.createCustomer({\n        name,\n        username: userName,\n        birthday: reverseBirthday(birthday),\n        cccd,\n        phone,\n        role: \"customer\"\n      }).then(res => {\n        Service.setPassword({\n          customer_id: res.data.id,\n          password\n        }).then(() => {\n          setSuccess(true);\n          setInterval(() => {\n            setShow(false);\n          }, 2000);\n        });\n      });\n    } else {\n      setSuccess(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      variant: \"primary\",\n      onClick: handleShow,\n      className: clsx(styles.loginButton, styles.loginBtn),\n      children: \"\\u0110\\u0102NG K\\xDD\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      size: \"lg\",\n      className: styles.modal2,\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"\\u0110\\u0102NG K\\xDD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: styles.login,\n        children: [success === true && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.success,\n          children: \"\\u0110\\u0103ng k\\xFD t\\xE0i kho\\u1EA3n th\\xE0nh c\\xF4ng.Quay l\\u1EA1i \\u0111\\u1EC3 \\u0111\\u0103ng nh\\u1EADp.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 28\n        }, this), success === false && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.danger,\n          children: \"Vui l\\xF2ng nh\\u1EADp \\u0111\\u1EA7y \\u0111\\u1EE7 th\\xF4ng tin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Nh\\u1EADp h\\u1ECD t\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: name,\n              onChange: e => OnchangeName(e.target.value),\n              placeholder: \"Nh\\u1EADp h\\u1ECD t\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), showName && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Vui l\\xF2ng nh\\u1EADp h\\u1ECD t\\xEAn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Nh\\u1EADp t\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: userName,\n              onChange: e => OnchangeUserName(e.target.value),\n              placeholder: \"Nh\\u1EADp t\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), showUserName && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Vui l\\xF2ng nh\\u1EADp t\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: phone,\n              onChange: e => OnchangePhone(e.target.value),\n              placeholder: \"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), showPhone && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Vui l\\xF2ng nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Nh\\u1EADp c\\u0103n c\\u01B0\\u1EDBc c\\xF4ng d\\xE2n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: cccd,\n              onChange: e => OnchangeCccd(e.target.value),\n              placeholder: \"Nh\\u1EADp cccd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), showCccd && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Vui l\\xF2ng nh\\u1EADp c\\u0103n c\\u01B0\\u1EDBc c\\xF4ng d\\xE2n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Nh\\u1EADp ng\\xE0y sinh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: birthday,\n              onChange: e => OnchangeBirthday(e.target.value),\n              placeholder: \"Nh\\u1EADp ng\\xE0y sinh \\u0111\\u1ECBnh d\\u1EA1ng dd-mm-yyyy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), showBirthday && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Vui l\\xF2ng nh\\u1EADp \\u0111\\xFAng \\u0111\\u1ECBnh d\\u1EA1ng dd-mm-yyyy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: password,\n              onChange: e => OnchangePassword(e.target.value),\n              placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), showPassword && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Vui l\\xF2ng nh\\u1EADp \\xEDt nh\\u1EA5t 6 k\\xED t\\u1EF1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 32\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: passwordRepeat,\n              onChange: e => OnchangePasswordRepeat(e.target.value),\n              placeholder: \"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this), showPasswordRepeat && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Vui l\\xF2ng nh\\u1EADp kh\\u1EDBp m\\u1EADt kh\\u1EA9u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: updateUsers,\n          children: \"\\u0110\\u0102NG K\\xDD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"XSA8qW2irffDGgeW0KdHegJIsZg=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Admin/Downloads/shop-xtp-main/shop-xtp-main/frontend/src/components/Navbar/pages/account/Login.js"],"names":["Button","Modal","useState","useEffect","clsx","styles","strTrim","checkInterger","CheckDate","reverseBirthday","Row","Col","Label","Service","ModalNoti","Login","show","setShow","showName","setShowName","showUserName","setShowUserName","showCccd","setShowCccd","showBirthday","setShowBirthday","showPhone","setShowPhone","showPassword","setShowPassword","showPasswordRepeat","setShowPasswordRepeat","name","setName","userName","setUserName","cccd","setCccd","birthday","setBirthday","phone","setPhone","password","setPassword","passwordRepeat","setPasswordRepeat","success","setSuccess","handleClose","handleShow","OnchangeName","value","OnchangeUserName","OnchangeCccd","OnchangeBirthday","split","OnchangePhone","OnchangePassword","OnchangePasswordRepeat","updateUsers","check","createCustomer","username","role","then","res","customer_id","data","id","setInterval","loginButton","loginBtn","modal2","login","danger","e","target"],"mappings":"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","sourcesContent":["import { Button, Modal } from \"react-bootstrap\";\nimport { useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport styles from \"./Account.module.scss\";\nimport { strTrim, checkInterger, CheckDate, reverseBirthday } from \"../../../../global/const\";\n// import {re} from './checkEmail'\nimport { Row, Col, Label } from \"reactstrap\";\nimport Service from \"../../../api/shopService\";\nimport ModalNoti from \"../ModalNoti/ModalNoti\";\nfunction Login() {\n  const [show, setShow] = useState(false);\n  const [showName, setShowName] = useState(false);\n  const [showUserName, setShowUserName] = useState(false);\n  const [showCccd, setShowCccd] = useState(false);\n  const [showBirthday, setShowBirthday] = useState(false);\n  const [showPhone, setShowPhone] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showPasswordRepeat, setShowPasswordRepeat] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [cccd, setCccd] = useState(\"\");\n  const [birthday, setBirthday] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordRepeat, setPasswordRepeat] = useState(\"\");\n  const [success,setSuccess]=useState(null)\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const OnchangeName = (value) => {\n    setName(value);\n    setShowName(strTrim(value) < 3);\n  };\n  const OnchangeUserName = (value) => {\n    setUserName(value);\n    setShowUserName(strTrim(value) < 3);\n  };\n  const OnchangeCccd = (value) => {\n    setCccd(value);\n    setShowCccd(\n      (strTrim(value) !== 9 && strTrim(value) !== 12) || !checkInterger(value)\n    );\n  };\n  const OnchangeBirthday = (value) => {\n    setBirthday(value);\n    setShowBirthday(!CheckDate(value.split(\"-\")));\n  };\n  const OnchangePhone = (value) => {\n    setPhone(value);\n    setShowPhone(strTrim(value) !== 10 || !checkInterger(value));\n  };\n  const OnchangePassword = (value) => {\n    setPassword(value);\n    setShowPassword(strTrim(value) < 6);\n  };\n  const OnchangePasswordRepeat = (value) => {\n    setPasswordRepeat(value);\n    setShowPasswordRepeat(value !== password);\n  };\n\n  const updateUsers = () => {\n    const check =\n      strTrim(name) > 0 &&\n      strTrim(cccd) > 0 &&\n      strTrim(phone) > 0 &&\n      strTrim(birthday) > 0 &&\n      strTrim(userName) > 0 &&\n      strTrim(password) > 0 &&\n      strTrim(passwordRepeat) > 0 &&\n      !showBirthday &&\n      !showCccd &&\n      !showName &&\n      !showPassword &&\n      !showPasswordRepeat &&\n      !showPhone &&\n      !showUserName;\n      if(check){\n        Service.createCustomer({\n          name,username:userName,birthday:reverseBirthday(birthday),cccd,phone,role:\"customer\"\n        }).then((res)=>{\n          Service.setPassword({\n            customer_id:res.data.id,\n            password,\n          }).then(()=>{\n            setSuccess(true)\n            setInterval(() => {\n              setShow(false)\n            }, 2000);\n          })\n        })\n      }else{\n        setSuccess(false)\n      }\n  };\n  return (\n    <>\n      <span\n        variant=\"primary\"\n        onClick={handleShow}\n        className={clsx(styles.loginButton, styles.loginBtn)}\n      >\n        ĐĂNG KÝ\n      </span>\n      <Modal size='lg' className={styles.modal2} show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>ĐĂNG KÝ</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className={styles.login}>\n          {success===true&&<p className={styles.success}>Đăng ký tài khoản thành công.Quay lại để đăng nhập.</p>}\n          {success===false&&<p className={styles.danger}>Vui lòng nhập đầy đủ thông tin</p>}\n          <Row>\n            <Col>\n              <Label>Nhập họ tên</Label>\n              <input\n                value={name}\n                onChange={(e) => OnchangeName(e.target.value)}\n                placeholder=\"Nhập họ tên\"\n              />\n              {showName && <span>Vui lòng nhập họ tên</span>}\n            </Col>\n            <Col>\n              <Label>Nhập tên đăng nhập</Label>\n              <input\n                value={userName}\n                onChange={(e) => OnchangeUserName(e.target.value)}\n                placeholder=\"Nhập tên đăng nhập\"\n              />\n              {showUserName && <span>Vui lòng nhập tên đăng nhập</span>}\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Label>Nhập số điện thoại</Label>\n              <input\n                value={phone}\n                onChange={(e) => OnchangePhone(e.target.value)}\n                placeholder=\"Nhập số điện thoại\"\n              />\n              {showPhone && <span>Vui lòng nhập số điện thoại</span>}\n            </Col>\n            <Col>\n              <Label>Nhập căn cước công dân</Label>\n              <input\n                value={cccd}\n                onChange={(e) => OnchangeCccd(e.target.value)}\n                placeholder=\"Nhập cccd\"\n              />\n              {showCccd && <span>Vui lòng nhập căn cước công dân</span>}\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Label>Nhập ngày sinh</Label>\n              <input\n                value={birthday}\n                onChange={(e) => OnchangeBirthday(e.target.value)}\n                placeholder=\"Nhập ngày sinh định dạng dd-mm-yyyy\"\n              />\n              {showBirthday && (\n                <span>Vui lòng nhập đúng định dạng dd-mm-yyyy</span>\n              )}\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Label>Nhập mật khẩu</Label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => OnchangePassword(e.target.value)}\n                placeholder=\"Nhập mật khẩu\"\n              />\n              {showPassword && <span>Vui lòng nhập ít nhất 6 kí tự</span>}\n            </Col>\n            <Col>\n              <Label>Nhập lại mật khẩu</Label>\n              <input\n                type=\"password\"\n                value={passwordRepeat}\n                onChange={(e) => OnchangePasswordRepeat(e.target.value)}\n                placeholder=\"Nhập lại mật khẩu\"\n              />\n              {showPasswordRepeat && <span>Vui lòng nhập khớp mật khẩu</span>}\n            </Col>\n          </Row>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"danger\" onClick={updateUsers}>\n            ĐĂNG KÝ\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}