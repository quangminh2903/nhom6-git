{"ast":null,"code":"var _jsxFileName = \"D:\\\\Th\\u1EF1c T\\u1EADp Sinh _ Javascript\\\\shop-xtp-main\\\\shop-xtp-main\\\\shop-xtp-main\\\\frontend\\\\src\\\\components\\\\Navbar\\\\pages\\\\home\\\\Addcart.js\",\n    _s = $RefreshSig$();\n\nimport styles from \"./home.module.scss\";\nimport { useState, useEffect, createContext } from \"react\";\nimport { Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Slideshow from \"./SlideShow\";\nimport SlideImage from \"./Slide5Image\";\nimport TabsEvaluate from \"./TabsEvaluate\";\nimport { delivery6, delivery5, delivery4, delivery3, delivery2, delivery1 } from \"../../../../assets/images/home/Delivery/imageDelivery\";\nimport { bank6, bank5, bank4, bank3, bank2, bank1 } from \"../../../../assets/images/home/Bank/imageBank\";\nimport { converseStr, FORMAT_PRICE } from \"../../../../global/const\";\nimport Service from \"../../../api/shopService\";\nimport ModalNoti from \"../ModalNoti/ModalNoti\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Images = /*#__PURE__*/createContext();\n\nfunction AddCart(props) {\n  _s();\n\n  const [num, setNum] = useState(1);\n  const [message, setMessage] = useState(\"\");\n  const [idProduct, setIdProduct] = useState(\"\");\n  const [evaluate, setEvaluate] = useState({});\n  const id = JSON.parse(window.localStorage.getItem(\"id\"));\n  const index = JSON.parse(window.localStorage.getItem(\"idProduct\"));\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [index, idProduct]);\n\n  const handleApart = () => {\n    setNum(prev => {\n      if (prev === 1) {\n        return prev;\n      }\n\n      return prev - 1;\n    });\n  };\n\n  const handleAdd = () => {\n    setNum(num + 1);\n  };\n\n  const handleAddCart = idOrderProduct => {\n    if (id === 0) {\n      setMessage(\"Qúy khách vui lòng đăng nhập\");\n    } else {\n      Service.getOrder(id).then(res => {\n        const arrOrder = res.data.map(el => {\n          return {\n            idOrder: el.id,\n            checkOrder: el.items[0].product.id === idOrderProduct\n          };\n        });\n        const check = arrOrder.filter(el => el.checkOrder === true);\n\n        if (check.length === 0) {\n          Service.createOrder({\n            customer_id: id,\n            itemParams: {\n              product_id: idOrderProduct,\n              amount: num\n            }\n          }).then(() => {\n            setMessage(\"Thêm vào giỏ hàng thành công\");\n          });\n        } else {\n          Service.updateOrder(check[0].idOrder, {\n            status: \"new\",\n            itemParams: {\n              amount: num\n            }\n          }).then(() => {\n            setMessage(\"Thêm vào giỏ hàng thành công\");\n          });\n        }\n      });\n    }\n  };\n\n  const Done = () => {\n    if (message === \"Qúy khách vui lòng đăng nhập\") {\n      setMessage(\"\");\n    } else {\n      window.location.replace(\"/viewcart\");\n    }\n  };\n\n  useEffect(() => {\n    Service.getProduct(index).then(res => {\n      setEvaluate(res.data);\n    });\n  }, [index]);\n\n  const addCart = id => {\n    setIdProduct(id);\n  };\n\n  const handlePayment = idOrderProduct => {\n    if (parseInt(id) === 0) {\n      setMessage(\"Qúy khách vui lòng đăng nhập\");\n    } else {\n      Service.getOrder(id).then(res => {\n        const arrOrder = res.data.map(el => {\n          return {\n            idOrder: el.id,\n            checkOrder: el.items[0].product.id === idOrderProduct\n          };\n        });\n        const check = arrOrder.filter(el => el.checkOrder === true);\n\n        if (check.length === 0) {\n          Service.createOrder({\n            customer_id: id,\n            itemParams: {\n              product_id: idOrderProduct,\n              amount: num\n            }\n          }).then(res => {\n            window.localStorage.setItem(\"idPayment\", JSON.stringify(res.data.id));\n            window.location.replace(\"/payment\");\n          });\n        } else {\n          Service.updateOrder(check[0].idOrder, {\n            status: \"new\",\n            itemParams: {\n              amount: num\n            }\n          }).then(res => {\n            window.localStorage.setItem(\"idPayment\", JSON.stringify(res.data.id));\n            window.location.replace(\"/payment\");\n          });\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Images.Provider, {\n    value: props,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.addcart,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Slideshow, {\n            evaluate: evaluate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), evaluate && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.addcartContent,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.addcartContentTitle,\n            children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n              className: styles.nav,\n              as: Link,\n              to: \"/home\",\n              children: \"TRANG CH\\u1EE6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n              className: styles.nav,\n              as: Link,\n              to: `/${evaluate.gender}`,\n              children: evaluate.gender ? evaluate.gender.toUpperCase() : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: evaluate.name ? converseStr(evaluate.name) : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: evaluate.price ? FORMAT_PRICE(evaluate.price) + \"đ\" : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.addcartContentPrice,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\"\n              },\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                onClick: handleApart,\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                children: num\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 50\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                onClick: handleAdd,\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                marginLeft: 17\n              },\n              className: styles.Button,\n              onClick: () => handleAddCart(evaluate.id),\n              children: \"TH\\xCAM V\\xC0O GI\\u1ECE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.Button,\n              onClick: () => handlePayment(evaluate.id),\n              children: \"MUA S\\u1EA2N PH\\u1EA8M\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: 17,\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.delivery,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"T\\xEDnh ph\\xED ship t\\u1EF1 \\u0111\\u1ED9ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: delivery1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: delivery2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: delivery3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: delivery4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: delivery5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: delivery6\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.bank,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Thanh to\\xE1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: bank1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: bank2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: bank3\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: bank4\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: bank5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: bank6\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.p,\n            children: \"\\\"H\\xE3y tr\\u1EDF th\\xE0nh Affilicate c\\u1EE7a ch\\xFAng t\\xF4i \\u0111\\u1EC3 t\\xECm th\\xEAm thu nh\\u1EADp th\\u1EE5 \\u0111\\u1ED9ng, ki\\u1EBFm ti\\u1EC1n online\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), !evaluate && /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u0110ang load\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabsEvaluate, {\n        inforProduct: evaluate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.slide5Image,\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"S\\u1EA2N PH\\u1EA8M T\\u01AF\\u01A0NG T\\u1EF0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SlideImage, {\n          parentCallBack: addCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalNoti, {\n      message: message,\n      done: Done\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddCart, \"olSriZDXE1shvZL6S8QyK8SDmIM=\");\n\n_c = AddCart;\nexport default AddCart;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddCart\");","map":{"version":3,"sources":["D:/Thực Tập Sinh _ Javascript/shop-xtp-main/shop-xtp-main/shop-xtp-main/frontend/src/components/Navbar/pages/home/Addcart.js"],"names":["styles","useState","useEffect","createContext","Nav","Link","Slideshow","SlideImage","TabsEvaluate","delivery6","delivery5","delivery4","delivery3","delivery2","delivery1","bank6","bank5","bank4","bank3","bank2","bank1","converseStr","FORMAT_PRICE","Service","ModalNoti","Images","AddCart","props","num","setNum","message","setMessage","idProduct","setIdProduct","evaluate","setEvaluate","id","JSON","parse","window","localStorage","getItem","index","scrollTo","handleApart","prev","handleAdd","handleAddCart","idOrderProduct","getOrder","then","res","arrOrder","data","map","el","idOrder","checkOrder","items","product","check","filter","length","createOrder","customer_id","itemParams","product_id","amount","updateOrder","status","Done","location","replace","getProduct","addCart","handlePayment","parseInt","setItem","stringify","addcart","display","justifyContent","addcartContent","addcartContentTitle","nav","gender","toUpperCase","name","price","addcartContentPrice","marginLeft","Button","delivery","bank","p","slide5Image"],"mappings":"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","sourcesContent":["import styles from \"./home.module.scss\";\nimport { useState, useEffect, createContext } from \"react\";\nimport { Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Slideshow from \"./SlideShow\";\nimport SlideImage from \"./Slide5Image\";\nimport TabsEvaluate from \"./TabsEvaluate\";\nimport {\n  delivery6,\n  delivery5,\n  delivery4,\n  delivery3,\n  delivery2,\n  delivery1,\n} from \"../../../../assets/images/home/Delivery/imageDelivery\";\nimport {\n  bank6,\n  bank5,\n  bank4,\n  bank3,\n  bank2,\n  bank1,\n} from \"../../../../assets/images/home/Bank/imageBank\";\nimport { converseStr, FORMAT_PRICE } from \"../../../../global/const\";\nimport Service from \"../../../api/shopService\";\nimport ModalNoti from \"../ModalNoti/ModalNoti\";\nexport const Images = createContext();\nfunction AddCart(props) {\n  const [num, setNum] = useState(1);\n  const [message, setMessage] = useState(\"\");\n  const [idProduct, setIdProduct] = useState(\"\");\n  const [evaluate, setEvaluate] = useState({});\n  const id = JSON.parse(window.localStorage.getItem(\"id\"));\n  const index = JSON.parse(window.localStorage.getItem(\"idProduct\"));\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [index, idProduct]);\n  const handleApart = () => {\n    setNum((prev) => {\n      if (prev === 1) {\n        return prev;\n      }\n      return prev - 1;\n    });\n  };\n\n  const handleAdd = () => {\n    setNum(num + 1);\n  };\n\n  const handleAddCart = (idOrderProduct) => {\n    if (id === 0) {\n      setMessage(\"Qúy khách vui lòng đăng nhập\");\n    } else {\n      Service.getOrder(id).then((res) => {\n        const arrOrder = res.data.map((el) => {\n          return {\n            idOrder: el.id,\n            checkOrder: el.items[0].product.id === idOrderProduct,\n          };\n        });\n        const check = arrOrder.filter((el) => el.checkOrder === true);\n        if (check.length === 0) {\n          Service.createOrder({\n            customer_id: id,\n            itemParams: {\n              product_id: idOrderProduct,\n              amount: num,\n            },\n          }).then(() => {\n            setMessage(\"Thêm vào giỏ hàng thành công\");\n          });\n        } else {\n          Service.updateOrder(check[0].idOrder, {\n            status: \"new\",\n            itemParams: {\n              amount: num,\n            },\n          }).then(() => {\n            setMessage(\"Thêm vào giỏ hàng thành công\");\n          });\n        }\n      });\n    }\n  };\n  const Done = () => {\n    if (message === \"Qúy khách vui lòng đăng nhập\") {\n      setMessage(\"\");\n    } else {\n      window.location.replace(\"/viewcart\");\n    }\n  };\n  useEffect(() => {\n    Service.getProduct(index).then((res) => {\n      setEvaluate(res.data);\n    });\n  }, [index]);\n  const addCart = (id) => {\n    setIdProduct(id);\n  };\n  const handlePayment = (idOrderProduct) => {\n    if (parseInt(id) === 0) {\n      setMessage(\"Qúy khách vui lòng đăng nhập\");\n    } else {\n      Service.getOrder(id).then((res) => {\n        const arrOrder = res.data.map((el) => {\n          return {\n            idOrder: el.id,\n            checkOrder: el.items[0].product.id === idOrderProduct,\n          };\n        });\n        const check = arrOrder.filter((el) => el.checkOrder === true);\n        if (check.length === 0) {\n          Service.createOrder({\n            customer_id: id,\n            itemParams: {\n              product_id: idOrderProduct,\n              amount: num,\n            },\n          }).then((res) => {\n            window.localStorage.setItem(\n              \"idPayment\",\n              JSON.stringify(res.data.id)\n            );\n            window.location.replace(\"/payment\");\n          });\n        } else {\n          Service.updateOrder(check[0].idOrder, {\n            status: \"new\",\n            itemParams: {\n              amount: num,\n            },\n          }).then((res) => {\n            window.localStorage.setItem(\n              \"idPayment\",\n              JSON.stringify(res.data.id)\n            );\n            window.location.replace(\"/payment\");\n          });\n        }\n      });\n    }\n  };\n  return (\n    <Images.Provider value={props}>\n      <div className={styles.addcart}>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          {/* slideshow */}\n          <div>\n            {\" \"}\n            <Slideshow evaluate={evaluate} />\n          </div>\n          {/* ------------- */}\n          {evaluate && (\n            <div className={styles.addcartContent}>\n              <div className={styles.addcartContentTitle}>\n                <Nav.Link className={styles.nav} as={Link} to=\"/home\">\n                  TRANG CHỦ\n                </Nav.Link>\n                <span>/</span>\n                <Nav.Link\n                  className={styles.nav}\n                  as={Link}\n                  to={`/${evaluate.gender}`}\n                >\n                  {evaluate.gender ? evaluate.gender.toUpperCase() : \"\"}\n                </Nav.Link>\n              </div>\n              <h3>{evaluate.name?converseStr(evaluate.name):\"\"}</h3>\n              <strong>{evaluate.price?FORMAT_PRICE(evaluate.price)+\"đ\":\"\"}</strong>\n              <div className={styles.addcartContentPrice}>\n                <div style={{ display: \"flex\" }}>\n                  {\" \"}\n                  <p onClick={handleApart}>-</p> <p>{num}</p>{\" \"}\n                  <p onClick={handleAdd}>+</p>\n                </div>\n                <button\n                  style={{ marginLeft: 17 }}\n                  className={styles.Button}\n                  onClick={() => handleAddCart(evaluate.id)}\n                >\n                  THÊM VÀO GIỎ\n                </button>\n                <button\n                  className={styles.Button}\n                  onClick={() => handlePayment(evaluate.id)}\n                >\n                  MUA SẢN PHẨM\n                </button>\n              </div>\n\n              <div style={{ marginLeft: 17, display: \"flex\" }}>\n                <div className={styles.delivery}>\n                  <span>Tính phí ship tự động</span>\n                  <img alt=\"\" src={delivery1} />\n                  <img alt=\"\" src={delivery2} />\n                  <img alt=\"\" src={delivery3} />\n                  <img alt=\"\" src={delivery4} />\n                  <img alt=\"\" src={delivery5} />\n                  <img alt=\"\" src={delivery6} />\n                </div>\n                <div className={styles.bank}>\n                  <span>Thanh toán</span>\n                  <img alt=\"\" src={bank1} />\n                  <img alt=\"\" src={bank2} />\n                  <img alt=\"\" src={bank3} />\n                  <img alt=\"\" src={bank4} />\n                  <img alt=\"\" src={bank5} />\n                  <img alt=\"\" src={bank6} />\n                </div>\n              </div>\n              <p className={styles.p}>\n                \"Hãy trở thành Affilicate của chúng tôi để tìm thêm thu nhập thụ\n                động, kiếm tiền online\"\n              </p>\n            </div>\n          )}\n          {!evaluate && <h4>Đang load</h4>}\n        </div>\n        <TabsEvaluate inforProduct={evaluate} />\n        <div className={styles.slide5Image}>\n          <h4>SẢN PHẨM TƯƠNG TỰ</h4>\n          <SlideImage parentCallBack={addCart} />\n        </div>\n      </div>\n      <ModalNoti message={message} done={Done} />\n    </Images.Provider>\n  );\n}\n\nexport default AddCart;\n"]},"metadata":{},"sourceType":"module"}